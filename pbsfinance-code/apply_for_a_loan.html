<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>PBS Finance | Apply for a Loan (Logged)</title>
	<!-- favicons Icons -->
	<link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicons/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicons/favicon-16x16.png">

	<!-- fonts -->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
	<link rel="stylesheet" href="assets/css/swiper.min.css">
	<link rel="stylesheet" href="assets/css/animate.min.css">
	<link rel="stylesheet" href="assets/css/pylon-icons.css">
	<link rel="stylesheet" href="assets/css/odometer.min.css">
	<link rel="stylesheet" href="assets/css/magnific-popup.css">
	<link rel="stylesheet" href="assets/css/bootstrap-select.min.css">
	<link rel="stylesheet" href="assets/css/nouislider.min.css">
	<link rel="stylesheet" href="assets/css/nouislider.pips.css">
	<link rel="stylesheet" type="text/css" href="assets/css/flaticon.css">
	<link rel="stylesheet" href="assets/css/owl.carousel.min.css">
	<!-- updated icons -->
	<link rel="stylesheet" href="assets/css/pylon-two-icons.css">
	<link rel="stylesheet" href="assets/css/jquery-ui.css">
	<link rel="stylesheet" href="assets/css/custom-animation.css">
	<!-- template styles -->
	<link rel="stylesheet" href="assets/css/main.css">
	<!-- app overrides -->
	<link rel="stylesheet" href="assets/css/pbs-app.css">

  <style>
    /* small addition for the user badge so it looks neat and doesn't require other CSS changes */
    .header-user-badge {
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:6px 12px;
      border-radius:999px;
      background: #e9f6da;
      color:#0F1F29;
      font-weight:600;
      text-decoration:none;
    }
    .header-user-badge .initials {
      width:28px;height:28px;border-radius:999px;background:#0F1F29;color:#B5E480;display:inline-flex;align-items:center;justify-content:center;font-weight:700;
    }
  </style>

</head>

<body class="has-sticky-offset home-page-wrapper">
	<div class="preloader">
		<img class="preloader__image" src="assets/images/loader.png" alt="">
	</div><!-- /.preloader -->
	<div class="page-wrapper">

		<div class="main-header-two">
			<div class="topbar-two"></div>

			<div class="main-header-two__info">
				<div class="container">
					<div class="main-header-two__info__inner">

						<div class="logo-box">
							<a href="index.html" aria-label="logo image"><img src="assets/images/logo-dark.png"
									width="155" alt=""></a>
							<span class="fa fa-bars mobile-nav__toggler"></span>
						</div><!-- /.logo-box -->

						<!-- NAV: modified for "logged in" UI only (everything else untouched) -->
						<nav class="main-header-two__menu main-menu">
							<div class="container">
								<ul class="main-menu__list">
									<li class="dropdown"><a href="index.html">Home</a></li>
									<li class="dropdown"><a href="apply_for_a_loan.html">Apply for a Loan</a></li>
									<li><a href="#footer">Contact Support</a></li>

									<!-- USER BADGE (UI-only) -->
									<li class="main-menu__item main-menu__item--user" style="margin-left:18px;">
										<a class="header-user-badge" href="client-portal.html" title="Open client portal">
											<span class="initials">SM</span>
											<span class="user-meta">
												Sid Mofokeng<br>
												<small style="font-weight:600;color:#52606a">Last login: 12 Nov 2025</small>
											</span>
										</a>
									</li>

								</ul>
							</div>
						</nav>

					</div><!-- /.main-header-two__info__inner -->
				</div><!-- /.container -->
			</div><!-- /.main-header-two__info -->

		</div>

		<div class="stricky-header stricked-menu main-header-two__menu main-menu">
			<div class="sticky-header__content"></div><!-- /.sticky-header__content -->
		</div><!-- /.stricky-header -->

			<!-- ===============================
			 Apply for a Loan – redesigned shell (full page identical to your original)
			 =============================== -->
			<section id="apply-for-loan" class="loan-calculator-two loan-application-section">
			<div class="container">

				<!-- App-style card shell -->
				<div class="loan-application-shell">

					<!-- Top bar: step tabs + summary -->
					<div class="loan-shell-top">
						<div class="loan-application-tabs">
						<button class="loan-application-tablink is-active" onclick="openLoanStep(event, 'Income')">
							<i class="fas fa-sack-dollar"></i>
							<span>Income</span>
						</button>

						<button class="loan-application-tablink" onclick="openLoanStep(event, 'Expenses')">
							<i class="fas fa-receipt"></i>
							<span>Expenses</span>
						</button>

						<button class="loan-application-tablink" onclick="openLoanStep(event, 'Banking')">
							<i class="fas fa-university"></i>
							<span>Banking</span>
						</button>

						<button class="loan-application-tablink"
								onclick="openLoanStep(event, 'Documents', 5)">
							<i class="fas fa-cloud-upload-alt"></i>
							<span>Upload Documents</span>
						</button>

						<button class="loan-application-tablink" onclick="openLoanStep(event, 'FinalizeApp')">
							<i class="fas fa-check-circle"></i>
							<span>Finalize</span>
						</button>

						</div>

						<div class="loan-shell-summary">
						<span class="loan-shell-chip">
							Step <span id="loan-step-indicator">1</span> of 6
						</span>
						<p>Average completion time: 3–5 minutes.</p>
						</div>
					</div>

					<!-- Body: all tab contents -->
					<div class="loan-shell-body">

					<!-- Step 2: Income -->
					<div id="Income" class="loan-application-tabcontent">

						<div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">
							<h3 class="loan-application-heading">
								<i class="fas fa-sack-dollar"></i> Income Details
							</h3>

							<div class="row">
							<div class="col-lg-12">
								<form action="contact.php" method="post" class="contact-one__form">
								<!-- BLOCK 1 -->
								<div id="income-block-1" class="loan-form-block">
									<div class="row low-gutters">
									<div class="col-md-6">
										<div class="form-group">
										<label>Net Salary:</label>
										<input type="text" placeholder="Net Salary"
												class="form-control contact-one__form-input" name="net_salary" required>
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
										<label>Salary Date:</label>
										<input type="date" class="form-control contact-one__form-input"
												name="salary_date" required>
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
										<label>Employment Status:</label>
										<select name="income_employment_status" class="form-control">
											<option value="full-time-employment">Full Time Employment</option>
											<option value="self-employed">Self-Employed</option>
											<option value="unemployed">Unemployed</option>
										</select>
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
										<label>Employer Name:</label>
										<input type="text" placeholder="Employer Name"
												class="form-control contact-one__form-input" name="employer_name">
										</div>
									</div>

									<div class="col-md-12 mt-2">
										<button type="button" class="thm-btn thm-btn--outline"
												onclick="showNextBlock('income-block-2')">
										Continue
										</button>
									</div>
									</div>
								</div>

								<!-- BLOCK 2 -->
								<div id="income-block-2" class="loan-form-block" style="display:none;">
									<div class="row low-gutters mt-3">
									<div class="col-md-6">
										<div class="form-group">
										<label>Employer Address:</label>
										<input type="text" placeholder="Employer Address"
												class="form-control contact-one__form-input" name="employer_address">
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
										<label>Employer Telephone:</label>
										<input type="number" placeholder="Employer Telephone"
												class="form-control contact-one__form-input" name="employer_telephone">
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
										<label>Employment Start Date:</label>
										<input type="date" class="form-control contact-one__form-input"
												name="employment_start">
										</div>
									</div>

									<div class="col-md-12 mt-3">
										<div class="form-group text-md-end">
										<button class="thm-btn" type="button"
												onclick="openLoanStepFromButton('Expenses', 3)">
											Next, Expenses
										</button>
										</div>
									</div>
									</div>
								</div>

								</form>
							</div>
							</div>
						</div>
					</div>

					<!-- Step 3: Expenses -->
					<div id="Expenses" class="loan-application-tabcontent">

					<div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">
						<h3 class="loan-application-heading">
							<i class="fas fa-receipt"></i> Expenses Overview
						</h3>

						<div class="row">
						<div class="col-lg-12">
							<form action="contact.php" method="post" class="contact-one__form">

							<!-- BLOCK 1 -->
							<div id="exp-block-1" class="loan-form-block">
								<div class="row low-gutters">
								<div class="col-md-12">
									<p class="loan-extra-title">Home &amp; living</p>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Household Expenses:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="household_expenses">
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Groceries:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="groceries">
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Rates &amp; Taxes:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="rates_taxes">
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Water &amp; Electricity:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="water_electricity">
									</div>
								</div>

								<div class="col-md-12 mt-2">
									<button type="button" class="thm-btn thm-btn--outline"
											onclick="showNextBlock('exp-block-2')">
									Continue
									</button>
								</div>
								</div>
							</div>

							<!-- BLOCK 2 -->
							<div id="exp-block-2" class="loan-form-block" style="display:none;">
								<div class="row low-gutters mt-3">
								<div class="col-md-12">
									<p class="loan-extra-title">Services &amp; support</p>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Domestic Worker Wage:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="domestic_worker">
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Garden Service:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="garden_service">
									</div>
								</div>

								<div class="col-md-12">
									<p class="loan-extra-title mt-2">Insurance &amp; transport</p>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Insurance / Funeral Cover:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="insurance_cover">
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Transport / Petrol Costs:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="transport_costs">
									</div>
								</div>

								<div class="col-md-12 mt-2">
									<button type="button" class="thm-btn thm-btn--outline"
											onclick="showNextBlock('exp-block-3')">
									Continue
									</button>
								</div>
								</div>
							</div>

							<!-- BLOCK 3 -->
							<div id="exp-block-3" class="loan-form-block" style="display:none;">
								<div class="row low-gutters mt-3">
								<div class="col-md-12">
									<p class="loan-extra-title">Other &amp; telecoms</p>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Telephone / Internet Company:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="telecoms">
									</div>
								</div>

								<div class="col-md-4">
									<div class="form-group">
									<label>Other (1):</label>
									<input type="number" class="form-control contact-one__form-input"
											name="other1">
									</div>
								</div>

								<div class="col-md-4">
									<div class="form-group">
									<label>Other (2):</label>
									<input type="number" class="form-control contact-one__form-input"
											name="other2">
									</div>
								</div>

								<div class="col-md-4">
									<div class="form-group">
									<label>Other (3):</label>
									<input type="number" class="form-control contact-one__form-input"
											name="other3">
									</div>
								</div>

								<div class="col-md-12 mt-3">
									<div class="form-group text-md-end">
									<button class="thm-btn" type="button"
											onclick="openLoanStepFromButton('Banking', 4)">
										Next, Banking Details
									</button>
									</div>
								</div>
								</div>
							</div>

							</form>
						</div>
						</div>
					</div>
					</div>

					<!-- Step 4: Banking -->
					<div id="Banking" class="loan-application-tabcontent">

						<div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">
						<h3 class="loan-application-heading">
							<i class="fas fa-university"></i> Banking Details
						</h3>

						<div class="row">
						<div class="col-lg-12">
							<form action="contact.php" method="post" class="contact-one__form">

							<!-- BLOCK 1 -->
							<div id="bank-block-1" class="loan-form-block">
								<div class="row low-gutters">
								<div class="col-md-12">
									<div class="form-group">
									<label>Bank:</label>
									<select name="bank" id="bank-select" class="form-control">
										<option value="">Select your bank</option>
										<option value="fnb">FNB</option>
										<option value="absa">Absa</option>
										<option value="standard">Standard Bank</option>
										<option value="nedbank">Nedbank</option>
										<option value="capitec">Capitec</option>
										<option value="tymebank">TymeBank</option>
										<option value="discovery">Discovery Bank</option>
										<option value="african">African Bank</option>
										<option value="investec">Investec</option>
										<option value="bidvest">Bidvest Bank</option>
										<option value="oldmutual">Old Mutual Bank</option>
										<option value="postbank">Postbank</option>
									</select>
									<div id="bank-logo-preview" class="bank-logo-preview" style="margin-top: 12px; display:none;">
										<img id="bank-logo-img" src="" alt="Selected bank logo"
											style="height:32px; object-fit:contain;">
									</div>

									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Account Holder Name:</label>
									<input type="text" class="form-control contact-one__form-input"
											name="account_holder" required>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Account Number:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="account_number" required>
									</div>
								</div>

								<div class="col-md-12 mt-2">
									<button type="button" class="thm-btn thm-btn--outline"
											onclick="showNextBlock('bank-block-2')">
									Continue
									</button>
								</div>
								</div>
							</div>

							<!-- BLOCK 2 -->
							<div id="bank-block-2" class="loan-form-block" style="display:none;">
								<div class="row low-gutters mt-3">
								<div class="col-md-6">
									<div class="form-group">
									<label>Branch Code:</label>
									<input type="number" class="form-control contact-one__form-input"
											name="branch_code" required>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
									<label>Account Type:</label>
									<select name="account_type" class="form-control">
										<option value="Savings">Savings</option>
										<option value="Cheque">Cheque</option>
									</select>
									</div>
								</div>

								<div class="col-md-12 mt-3">
									<button class="thm-btn" type="button"
											onclick="openLoanStepFromButton('Documents', 5)">
									Next, Upload Documents
									</button>
									</div>
								</div>
								</div>
							</div>

							</form>
						</div>
						</div>
						</div>
					</div>

					<!-- Step 5: Documents -->
					<div id="Documents" class="loan-application-tabcontent">

					<div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">
						<h3 class="loan-application-heading">
							<i class="fas fa-cloud-upload-alt"></i>
							Upload Documents
						</h3>
						<div class="row">
							
						<div class="col-lg-12">
							
							<form action="contact.php" method="post" class="contact-one__form" enctype="multipart/form-data">
							
							<p class="mb-3">
								Please upload the required supporting documents to complete your application.
							</p>

							<div class="row low-gutters">
								<div class="col-md-12">
								<div class="form-group">
									<label><i class="fas fa-id-card"></i> Copy of ID / Passport (PDF, JPG, PNG)</label>
									<input type="file" name="id_document" class="form-control" accept=".pdf,.jpg,.jpeg,.png">
								</div>
								</div>

								<div class="col-md-12">
								<div class="form-group">
									<label><i class="fas fa-file-alt"></i> Latest Payslip (PDF, JPG, PNG)</label>
									<input type="file" name="payslip" class="form-control" accept=".pdf,.jpg,.jpeg,.png">
								</div>
								</div>

								<div class="col-md-12">
								<div class="form-group">
									<label><i class="fas fa-file-invoice-dollar"></i> Last 3 Months Bank Statements (PDF)</label>
									<input type="file" name="bank_statements" class="form-control" accept=".pdf" multiple>
								</div>
								</div>

								<div class="col-md-12">
								<p style="font-size:0.85rem;color:#7d8491;">
									Max file size per document: 5MB. If you have trouble uploading, you can email
									your documents to <strong>support@pbsfinance.co.za</strong> with your ID number
									as a reference.
								</p>
								</div>

								<div class="col-md-12 mt-3">
								<div class="form-group text-md-end">
									<button class="thm-btn" type="button"
											onclick="openLoanStepFromButton('finalizeApplication', 6)">
									Next, Finalize Application
									</button>
								</div>
								</div>

							</div>

							</form>
						</div>
						</div>
					</div>
					</div>

					<!-- Step 6: Finalize -->
					<div id="FinalizeApp" class="loan-application-tabcontent">
						<div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">
							<h3 class="loan-application-heading">
								<i class="fas fa-check-circle"></i> Review & Finalize
							</h3>

							<div class="row">
							<div class="col-lg-12">
								<div class="contact-one__form">

								<p class="mb-3">
									Review your details one section at a time before submitting your application.
								</p>

								<!-- =======================
									REVIEW CAROUSEL WRAPPER
								======================== -->
								<div class="review-carousel">

									<!-- ============ SLIDE 1: USER ============ -->
									<div class="review-slide" data-review-index="0">
									<div class="pretty-card">

										<div class="review-card-header">
										<h3>User details</h3>
										<button type="button" class="edit-btn"
												onclick="openLoanStepFromButton('UserRegistrations', 1)">
											Edit
										</button>
										</div>

										<div class="review-card-body">

										<div class="review-item">
											<span>Full name</span>
											<strong id="review-name"></strong>
										</div>

										<div class="review-item">
											<span>ID number</span>
											<strong id="review-id-number"></strong>
										</div>

										<div class="review-item">
											<span>Email</span>
											<strong id="review-email"></strong>
										</div>

										<div class="review-item">
											<span>Employment status</span>
											<strong id="review-employment-status"></strong>
										</div>

										<div class="review-item">
											<span>Address</span>
											<strong id="review-address"></strong>
										</div>

										</div>

									</div>
									</div>

									<!-- ============ SLIDE 2: INCOME ============ -->
									<div class="review-slide" data-review-index="1">
									<div class="pretty-card">

										<div class="review-card-header">
										<h3>Income</h3>
										<button type="button" class="edit-btn"
												onclick="openLoanStepFromButton('Income', 2)">
											Edit
										</button>
										</div>

										<div class="review-card-body">

										<div class="review-item">
											<span>Net salary</span>
											<strong id="review-net-salary"></strong>
										</div>

										<div class="review-item">
											<span>Salary date</span>
											<strong id="review-salary-date"></strong>
										</div>

										<div class="review-item">
											<span>Employment status</span>
											<strong id="review-income-employment-status"></strong>
										</div>

										<div class="review-item">
											<span>Employer</span>
											<strong id="review-employer"></strong>
										</div>

										</div>

									</div>
									</div>

									<!-- ============ SLIDE 3: EXPENSES ============ -->
									<div class="review-slide" data-review-index="2">
									<div class="pretty-card">

										<div class="review-card-header">
										<h3>Expenses</h3>
										<button type="button" class="edit-btn"
												onclick="openLoanStepFromButton('Expenses', 3)">
											Edit
										</button>
										</div>

										<div class="review-card-body">

										<div class="review-item">
											<span>Household & groceries</span>
											<strong id="review-home-groceries"></strong>
										</div>

										<div class="review-item">
											<span>Utilities & rates</span>
											<strong id="review-utilities"></strong>
										</div>

										<div class="review-item">
											<span>Services</span>
											<strong id="review-services"></strong>
										</div>

										<div class="review-item">
											<span>Insurance & transport</span>
											<strong id="review-insurance-transport"></strong>
										</div>

										<div class="review-item">
											<span>Telecoms & other</span>
											<strong id="review-other-telecoms"></strong>
										</div>

										</div>

									</div>
									</div>

									<!-- ============ SLIDE 4: BANKING ============ -->
									<div class="review-slide" data-review-index="3">
									<div class="pretty-card">

										<div class="review-card-header">
										<h3>Banking details</h3>
										<button type="button" class="edit-btn"
												onclick="openLoanStepFromButton('Banking', 4)">
											Edit
										</button>
										</div>

										<div class="review-card-body">

										<div class="review-item">
											<span>Bank</span>
											<strong id="review-bank"></strong>
										</div>

										<div class="review-item">
											<span>Account holder</span>
											<strong id="review-account-holder"></strong>
										</div>

										<div class="review-item">
											<span>Account number</span>
											<strong id="review-account-number"></strong>
										</div>

										<div class="review-item">
											<span>Account type</span>
											<strong id="review-account-type"></strong>
										</div>

										</div>

									</div>
									</div>

								</div> <!-- /review-carousel -->


								<!-- =======================
										SLIDER CONTROLS
								======================== -->
								<div class="review-carousel-controls">

									<button type="button"
											class="thm-btn thm-btn--ghost"
											id="review-prev-btn"
											onclick="changeReviewSlide(-1)">
									Previous
									</button>

									<div class="review-carousel-indicator">
									<span id="review-slide-label">Section 1 of 4</span>

									<div class="review-dots">
										<button type="button" class="review-dot" data-review-dot="0"
												onclick="goToReviewSlide(0)"></button>
										<button type="button" class="review-dot" data-review-dot="1"
												onclick="goToReviewSlide(1)"></button>
										<button type="button" class="review-dot" data-review-dot="2"
												onclick="goToReviewSlide(2)"></button>
										<button type="button" class="review-dot" data-review-dot="3"
												onclick="goToReviewSlide(3)"></button>
									</div>
									</div>

									<button type="button"
											class="thm-btn"
											id="review-next-btn"
											onclick="changeReviewSlide(1)">
									Next
									</button>
								</div>


								<!-- =======================
										FINAL CONFIRMATION
								======================== -->
								<div class="review-final">
									<div class="form-group">
									<input type="checkbox" id="confirm-final" name="confirm_final">
									<label for="confirm-final">
										I confirm that the information provided is true and correct.
									</label>
									</div>

									<button class="thm-btn" type="submit">Submit Application</button>
								</div>

								</div>
							</div>
							</div>
						</div>
					</div>

				</div><!-- /.loan-shell-body -->

				</div><!-- /.loan-application-shell -->

			</div><!-- /.container -->
			</section>


		<footer id="footer" class="site-footer-two">
			<div class="site-footer-two__bottom">
				<div class="container">
					<p>© Copyright 2025 PBS Finance</p>
				</div><!-- /.container -->
			</div><!-- /.site-footer-two__bottom -->
		</footer><!-- /.site-footer-two -->

	</div><!-- /.page-wrapper -->


	<div class="mobile-nav__wrapper">
		<div class="mobile-nav__overlay mobile-nav__toggler"></div>
		<div class="mobile-nav__content">
			<span class="mobile-nav__close mobile-nav__toggler"></span>

			<div class="logo-box">
				<a href="index.html" aria-label="logo image"><img src="assets/images/logo-light.png" width="155"
						alt="" /></a>
			</div>
			<div class="mobile-nav__container"></div>

			<ul class="mobile-nav__contact list-unstyled">
				<li>
					<i class="pylon-icon-email1"></i>
					<a href="mailto:info@phekhubusiness.co.za">info@phekhubusiness.co.za</a>
				</li>
				<li>
					<i class="pylon-icon-telephone"></i>
					<a href="tel:+27630683230">(+27) 63 068 3230</a>
				</li>
			</ul>
			<div class="mobile-nav__top">
				<div class="mobile-nav__language">
					<img src="assets/images/resources/flag-1-1.jpg" alt="">
					<label class="sr-only" for="language-select">select language</label>
					<select class="selectpicker" id="language-select">
						<option value="english">English</option>
						<option value="arabic">Arabic</option>
					</select>
				</div>
				<div class="mobile-nav__social">
					<a href="#" aria-label="twitter"><i class="fab fa-twitter"></i></a>
					<a href="#" aria-label="facebook"><i class="fab fa-facebook-square"></i></a>
					<a href="#" aria-label="instagram"><i class="fab fa-instagram"></i></a>
				</div>
			</div>
		</div>
	</div>

	<a href="#" data-target="html" class="scroll-to-target scroll-to-top"><i class="fa fa-angle-up"></i></a>

<script>
  function setStepIndicator(step) {
    var indicator = document.getElementById("loan-step-indicator");
    if (indicator && step) {
      indicator.textContent = step;
    }
  }

  function openLoanStep(evt, stepId, stepNumber) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("loan-application-tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("loan-application-tablink");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].classList.remove("is-active");
    }

    var section = document.getElementById(stepId);
    if (section) section.style.display = "block";

    if (evt && evt.currentTarget) {
      evt.currentTarget.classList.add("is-active");
    } else {
      // when called from Next buttons
      for (i = 0; i < tablinks.length; i++) {
        if (tablinks[i].getAttribute("onclick").indexOf("'" + stepId + "'") !== -1) {
          tablinks[i].classList.add("is-active");
          break;
        }
      }
    }

    if (stepNumber) {
      setStepIndicator(stepNumber);
    }

	if (stepId === 'finalizeApplication') {
	populateReviewSummary();
	showReviewSlide(0);
	}

  }

  function openLoanStepFromButton(stepId, stepNumber) {
    openLoanStep(null, stepId, stepNumber);
    var applySection = document.getElementById("apply-for-loan");
    if (applySection) {
      applySection.scrollIntoView({ behavior: 'smooth' });
    }
  }

  // Soft mode: just show the next block, no validation
  function showNextBlock(blockId) {
    var block = document.getElementById(blockId);
    if (block) {
      block.style.display = 'block';
    }
  }

  function setupAddressToggle() {
    var toggles = document.querySelectorAll('.loan-extra-toggle');
    toggles.forEach(function (btn) {
      var targetSelector = btn.getAttribute('data-target');
      var target = document.querySelector(targetSelector);
      if (!target) return;

      // start hidden
      target.style.display = 'none';

      btn.addEventListener('click', function () {
        var isHidden = target.style.display === 'none';
        target.style.display = isHidden ? 'block' : 'none';
        btn.textContent = isHidden
          ? '− Hide address details (optional)'
          : '+ Add address details (optional)';
      });
    });
  }

function setupBankLogos() {
  var select = document.getElementById('bank-select');
  var preview = document.getElementById('bank-logo-preview');
  var img = document.getElementById('bank-logo-img');
  if (!select || !preview || !img) return;

  // Map bank values -> logo image paths
  var logos = {
    fnb: 'assets/images/banks/fnb.png',
    absa: 'assets/images/banks/absa.png',
    standard: 'assets/images/banks/standard-bank.png',
    nedbank: 'assets/images/banks/nedbank.png',
    capitec: 'assets/images/banks/capitec.png',
    tymebank: 'assets/images/banks/tymebank.png',
    discovery: 'assets/images/banks/discovery.png',
    african: 'assets/images/banks/african-bank.png',
    investec: 'assets/images/banks/investec.png',
    bidvest: 'assets/images/banks/bidvest.png',
    oldmutual: 'assets/images/banks/old-mutual.png',
    postbank: 'assets/images/banks/postbank.png'
  };

  function updateLogo() {
    var value = select.value;
    if (logos[value]) {
      img.src = logos[value];
      img.alt = select.options[select.selectedIndex].text + ' logo';
      preview.style.display = 'block';
    } else {
      preview.style.display = 'none';
      img.src = '';
    }
  }

  select.addEventListener('change', updateLogo);
  updateLogo(); // initial
}

function getFieldValue(selector) {
  var el = document.querySelector(selector);
  if (!el) return '—';

  if (el.tagName === 'SELECT') {
    var opt = el.options[el.selectedIndex];
    return (opt && opt.text) ? opt.text : '—';
  }

  return el.value && el.value.trim() !== '' ? el.value.trim() : '—';
}

function setText(id, value) {
  var el = document.getElementById(id);
  if (el) el.textContent = value || '—';
}

function populateReviewSummary() {
  // USER
  var name = getFieldValue('input[name="name"]');
  var surname = getFieldValue('input[name="surname"]');
  setText('review-name', (name !== '—' || surname !== '—') ? (name + ' ' + surname).trim() : '—');
  setText('review-id-number', getFieldValue('input[name="id_number"]'));
  setText('review-email', getFieldValue('input[name="email"]'));
  setText('review-employment-status', getFieldValue('select[name="employment_status"]'));

  var addressParts = [
    getFieldValue('input[name="unit_house"]'),
    getFieldValue('input[name="street_name"]'),
    getFieldValue('input[name="suburb"]'),
    getFieldValue('input[name="city"]'),
    getFieldValue('input[name="province"]'),
    getFieldValue('input[name="postal_code"]')
  ].filter(function (v) { return v && v !== '—'; });
  setText('review-address', addressParts.length ? addressParts.join(', ') : '—');

  // INCOME
  setText('review-net-salary', getFieldValue('input[name="net_salary"]'));
  setText('review-salary-date', getFieldValue('input[name="salary_date"]'));
  setText('review-income-employment-status', getFieldValue('select[name="income_employment_status"]'));

  var employerName = getFieldValue('input[name="employer_name"]');
  var employerTel = getFieldValue('input[name="employer_telephone"]');
  var employerStr = employerName !== '—' ? employerName : '';
  if (employerTel !== '—') {
    employerStr = employerStr ? employerStr + ' (' + employerTel + ')' : employerTel;
  }
  setText('review-employer', employerStr || '—');

  // EXPENSES (grouped nicely)
  var household = getFieldValue('input[name="household_expenses"]');
  var groceries = getFieldValue('input[name="groceries"]');
  setText('review-home-groceries',
    (household !== '—' || groceries !== '—')
      ? 'Household: ' + household + ' | Groceries: ' + groceries
      : '—'
  );

  var rates = getFieldValue('input[name="rates_taxes"]');
  var water = getFieldValue('input[name="water_electricity"]');
  setText('review-utilities',
    (rates !== '—' || water !== '—')
      ? 'Rates/Taxes: ' + rates + ' | Water/Electricity: ' + water
      : '—'
  );

  var domestic = getFieldValue('input[name="domestic_worker"]');
  var garden = getFieldValue('input[name="garden_service"]');
  setText('review-services',
    (domestic !== '—' || garden !== '—')
      ? 'Domestic: ' + domestic + ' | Garden: ' + garden
      : '—'
  );

  var insurance = getFieldValue('input[name="insurance_cover"]');
  var transport = getFieldValue('input[name="transport_costs"]');
  setText('review-insurance-transport',
    (insurance !== '—' || transport !== '—')
      ? 'Insurance: ' + insurance + ' | Transport: ' + transport
      : '—'
  );

  var telecoms = getFieldValue('input[name="telecoms"]');
  var other1 = getFieldValue('input[name="other1"]');
  var other2 = getFieldValue('input[name="other2"]');
  var other3 = getFieldValue('input[name="other3"]');
  var otherCombined = [
    telecoms !== '—' ? 'Telecoms: ' + telecoms : '',
    other1 !== '—' ? 'Other 1: ' + other1 : '',
    other2 !== '—' ? 'Other 2: ' + other2 : '',
    other3 !== '—' ? 'Other 3: ' + other3 : ''
  ].filter(Boolean).join(' | ');
  setText('review-other-telecoms', otherCombined || '—');

  // BANKING
  setText('review-bank', getFieldValue('#bank-select'));
  setText('review-account-holder', getFieldValue('input[name="account_holder"]'));
  setText('review-account-number', getFieldValue('input[name="account_number"]'));
  setText('review-account-type', getFieldValue('select[name="account_type"]'));
}

var currentReviewSlide = 0;

function showReviewSlide(index) {
  var slides = document.querySelectorAll('.review-slide');
  var dots = document.querySelectorAll('.review-dot');
  var total = slides.length;
  if (!total) return;

  if (index < 0) index = 0;
  if (index > total - 1) index = total - 1;
  currentReviewSlide = index;

  // Hide all slides
  slides.forEach(function (slide, i) {
    slide.style.display = (i === index) ? 'block' : 'none';
  });

  // Update dots
  dots.forEach(function (dot, i) {
    if (i === index) {
      dot.classList.add('is-active');
    } else {
      dot.classList.remove('is-active');
    }
  });

  // Update label
  var label = document.getElementById('review-slide-label');
  if (label) {
    label.textContent = 'Section ' + (index + 1) + ' of ' + total;
  }

  // Enable/disable prev/next
  var prevBtn = document.getElementById('review-prev-btn');
  var nextBtn = document.getElementById('review-next-btn');
  if (prevBtn) prevBtn.disabled = (index === 0);
  if (nextBtn) nextBtn.disabled = (index === total - 1);

  window.scrollTo({ top: 0, behavior: 'smooth' });

}

function changeReviewSlide(direction) {
  showReviewSlide(currentReviewSlide + direction);
}

function goToReviewSlide(index) {
  showReviewSlide(index);
}



  document.addEventListener("DOMContentLoaded", function () {
    openLoanStep(null, "Income", 2);

    setupAddressToggle();
	setupBankLogos();   // <--- add this line
  });

/* ======================================================
   EMAIL + SOUTH AFRICAN ID NUMBER VALIDATION
====================================================== */

// VALIDATE EMAIL
function isValidEmail(email) {
  var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailPattern.test(email.trim());
}

// VALIDATE SA ID NUMBER (13 digits + checksum)
function isValidSouthAfricanID(id) {
  if (!/^\d{13}$/.test(id)) return false;

  // Luhn algorithm
  let sum = 0;
  let alternate = false;
  for (let i = id.length - 1; i >= 0; i--) {
    let n = parseInt(id[i], 10);
    if (alternate) {
      n *= 2;
      if (n > 9) n = (n % 10) + 1;
    }
    sum += n;
    alternate = !alternate;
  }
  return (sum % 10 === 0);
}


function validateUserRegistration() {
  let idInput = document.querySelector('input[name="id_number"]');
  let emailInput = document.querySelector('input[name="email"]');

  let idValue = idInput.value.trim();
  let emailValue = emailInput.value.trim();

  // Reset errors
  document.getElementById("id-error").textContent = "";
  document.getElementById("email-error").textContent = "";
  idInput.classList.remove("input-error");
  emailInput.classList.remove("input-error");

  let valid = true;

  // ID VALIDATION
  if (!isValidSouthAfricanID(idValue)) {
    document.getElementById("id-error").textContent =
      "Please enter a valid South African ID number.";
    idInput.classList.add("input-error");
    valid = false;
  }

  // EMAIL VALIDATION
  if (!isValidEmail(emailValue)) {
    document.getElementById("email-error").textContent =
      "Please enter a valid email address.";
    emailInput.classList.add("input-error");
    valid = false;
  }

  return valid;
}


</script>

<script>
/* ------------------------------------------------------------------
  Validation wrapper for loan tabs & forms
  Drop this in AFTER your existing loan JS (so it can wrap functions)
------------------------------------------------------------------ */
(function () {
  // Helper: find visible loan-form-blocks inside the currently active tab
  function getVisibleBlocksInCurrentTab() {
    var tabContents = document.querySelectorAll('.loan-application-tabcontent');
    for (var i = 0; i < tabContents.length; i++) {
      var t = tabContents[i];
      if (t.style.display !== 'none') {
        // return all .loan-form-blocks that are visible (display != none)
        return Array.prototype.slice.call(t.querySelectorAll('.loan-form-block')).filter(function (b) {
          return b.style.display !== 'none';
        });
      }
    }
    return [];
  }

  // Helper: find first invalid element inside a container and show inline message
  function validateContainer(container) {
    var inputs = container.querySelectorAll('input,select,textarea');
    var firstInvalid = null;
    // remove old error messages from this container
    Array.prototype.forEach.call(container.querySelectorAll('.validation-error'), function (el) {
      el.parentNode && el.parentNode.removeChild(el);
    });

    for (var i = 0; i < inputs.length; i++) {
      var el = inputs[i];
      // skip hidden or disabled
      if (el.disabled || el.type === 'hidden' || el.offsetParent === null) continue;

      var valid = true;
      // Use HTML5 validity if the field has "required" or other constraints
      if (typeof el.checkValidity === 'function' && el.hasAttribute('required')) {
        valid = el.checkValidity();
      } else {
        // fallback: for text/number/email/select, ensure non-empty if they have a name attribute
        var t = el.type ? el.type.toLowerCase() : el.tagName.toLowerCase();
        if ((t === 'text' || t === 'email' || t === 'tel' || t === 'number' || t === 'textarea' || el.tagName.toLowerCase() === 'select') &&
            el.name && String(el.value).trim() === '') {
          valid = false;
        }
      }

      if (!valid) {
        firstInvalid = firstInvalid || el;
        // add inline error message
        var msg = el.getAttribute('data-error') || (el.hasAttribute('required') ? 'This field is required' : 'Please enter a value');
        var err = document.createElement('div');
        err.className = 'validation-error';
        err.style.color = '#ad2e2e';
        err.style.fontSize = '0.9rem';
        err.style.marginTop = '6px';
        err.textContent = msg;
        // insert after the element
        (el.parentNode || el).appendChild(err);
      }
    }

    if (firstInvalid) {
      // focus the first invalid element for UX
      try { firstInvalid.focus(); } catch (e) {}
      return { valid: false, first: firstInvalid };
    }
    return { valid: true };
  }

  // Validate the "current" tab. We treat the last visible loan-form-block as the active block to validate.
  function validateCurrentTab() {
    var visibleBlocks = getVisibleBlocksInCurrentTab();
    if (!visibleBlocks || visibleBlocks.length === 0) {
      // fallback: validate whole visible tab area
      var tabContents = document.querySelectorAll('.loan-application-tabcontent');
      for (var i = 0; i < tabContents.length; i++) {
        if (tabContents[i].style.display !== 'none') {
          return validateContainer(tabContents[i]);
        }
      }
      return { valid: true };
    }
    // Validate each visible block (especially the first one, or last depending on your UX)
    // We'll validate all visible blocks and focus the first invalid.
    for (var j = 0; j < visibleBlocks.length; j++) {
      var res = validateContainer(visibleBlocks[j]);
      if (!res.valid) return res;
    }
    return { valid: true };
  }

  // Wrap openLoanStepFromButton to validate before navigation forward
  if (typeof window.openLoanStepFromButton === 'function') {
    window.__orig_openLoanStepFromButton = window.openLoanStepFromButton;
    window.openLoanStepFromButton = function (stepId, stepNumber) {
      // Validate current tab before allowing navigation forward
      var validation = validateCurrentTab();
      if (!validation.valid) {
        // do not navigate, user will see inline errors and focus will be set
        return false;
      }
      // proceed with original behavior
      return window.__orig_openLoanStepFromButton(stepId, stepNumber);
    };
  }

  // Wrap openLoanStep to prevent user clicking on future tabs without completing current
  if (typeof window.openLoanStep === 'function') {
    window.__orig_openLoanStep = window.openLoanStep;
    window.openLoanStep = function (evt, stepId, stepNumber) {
      try {
        // find ordering of tabs and indices
        var tabs = Array.prototype.slice.call(document.querySelectorAll('.loan-application-tablink'));
        var targetIndex = tabs.findIndex(function (t) {
          return t.getAttribute('onclick') && t.getAttribute('onclick').indexOf("'" + stepId + "'") !== -1 ||
                 (t.dataset && t.dataset.step === stepId);
        });
        var currentIndex = tabs.findIndex(function (t) { return t.classList.contains('is-active'); });

        // If moving forward (targetIndex > currentIndex), validate current tab first
        if (targetIndex > currentIndex) {
          var validation = validateCurrentTab();
          if (!validation.valid) {
            // Block navigation forward
            if (evt && evt.preventDefault) evt.preventDefault();
            return false;
          }
        }
      } catch (e) {
        // If anything goes wrong, fall back to original function
        console.warn('openLoanStep wrapper error', e);
      }

      return window.__orig_openLoanStep(evt, stepId, stepNumber);
    };
  }

  // Intercept form submit inside loan-application-shell to prevent empty submission
  var loanShellForms = document.querySelectorAll('.loan-application-shell form');
  Array.prototype.forEach.call(loanShellForms, function (form) {
    form.addEventListener('submit', function (e) {
      // remove previous inline errors within the form
      Array.prototype.forEach.call(form.querySelectorAll('.validation-error'), function (el) {
        el.parentNode && el.parentNode.removeChild(el);
      });

      // Validate entire form using HTML5 API
      if (typeof form.checkValidity === 'function' && !form.checkValidity()) {
        // Show inline errors for invalid items
        var invalids = form.querySelectorAll(':invalid');
        if (invalids && invalids.length) {
          e.preventDefault();
          e.stopPropagation();
          // show inline messages
          Array.prototype.forEach.call(invalids, function (el) {
            var msg = el.validationMessage || 'Please fill out this field';
            var err = document.createElement('div');
            err.className = 'validation-error';
            err.style.color = '#ad2e2e';
            err.style.fontSize = '0.9rem';
            err.style.marginTop = '6px';
            err.textContent = msg;
            (el.parentNode || el).appendChild(err);
          });
          // focus first invalid
          try { invalids[0].focus(); } catch (err) {}
        }
      } else {
        // fallback: run custom validateCurrentTab which checks empties too
        var res = validateCurrentTab();
        if (!res.valid) {
          e.preventDefault();
          e.stopPropagation();
        }
      }
    }, false);
  });

  // UX nicety: remove validation message when user starts typing
  document.addEventListener('input', function (ev) {
    var el = ev.target;
    if (!el) return;
    var p = el.parentNode;
    if (!p) return;
    var old = p.querySelector('.validation-error');
    if (old) {
      // If element now has a value, remove the error
      if (el.value && String(el.value).trim() !== '') {
        old.parentNode && old.parentNode.removeChild(old);
      }
    }
  }, true);

  // Also support clicking the "Continue" outline buttons which call showNextBlock (these bypass openLoanStepFromButton)
  // We override showNextBlock to validate the block being hidden (the currently visible one) if we are progressing to a next block.
  if (typeof window.showNextBlock === 'function') {
    window.__orig_showNextBlock = window.showNextBlock;
    window.showNextBlock = function (blockId) {
      // find the block currently visible (inside same tab)
      var visibleBlocks = getVisibleBlocksInCurrentTab();
      // If the blockId is not within current visibleBlocks, treat as normal
      // But validate the current visible blocks before revealing the new one
      var validation = validateCurrentTab();
      if (!validation.valid) {
        return false;
      }
      return window.__orig_showNextBlock(blockId);
    };
  }

  // Expose a helper to run validation programmatically (for debugging/testing)
  window.validateLoanUI = function () {
    return validateCurrentTab();
  };

})();
</script>



	<script src="assets/js/jquery-3.5.1.min.js"></script>
	<script src="assets/js/bootstrap.bundle.min.js"></script>
	<script src="assets/js/swiper.min.js"></script>
	<script src="assets/js/jquery.ajaxchimp.min.js"></script>
	<script src="assets/js/jquery.magnific-popup.min.js"></script>
	<script src="assets/js/jquery.validate.min.js"></script>
	<script src="assets/js/bootstrap-select.min.js"></script>
	<script src="assets/js/wow.js"></script>
	<script src="assets/js/odometer.min.js"></script>
	<script src="assets/js/jquery.appear.min.js"></script>
	<script src="assets/js/wNumb.min.js"></script>
	<script src="assets/js/nouislider.min.js"></script>
	<script src="assets/js/owl.carousel.min.js"></script>
	<script src="assets/js/jquery.circleGraph.js"></script>
	<script src="assets/js/jquery-ui.js"></script>

	<!-- template js -->
    <script src="assets/js/theme.js"></script>
</body>

</html>
