<!-- FILE: partner-register-company.html
     CHANGE:
     1) Header menu: "Client Portal" -> "Partner Portal"
     2) Header badge: use a company name (not a person)
     3) Convert page into a true multi-step UI (like your apply_for_a_loan_logged.html)
        - Tabs switch content in-page (no page reload)
        - Company step has 2 blocks (hide/show on Continue)
        - Next steps are included as tab sections (static UI placeholders for now)
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PBS Finance | Partner Registration — Onboarding</title>

  <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicons/favicon-16x16.png">

  <link rel="stylesheet" href="assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
  <link rel="stylesheet" href="assets/css/swiper.min.css">
  <link rel="stylesheet" href="assets/css/animate.min.css">
  <link rel="stylesheet" href="assets/css/pylon-icons.css">
  <link rel="stylesheet" href="assets/css/odometer.min.css">
  <link rel="stylesheet" href="assets/css/magnific-popup.css">
  <link rel="stylesheet" href="assets/css/bootstrap-select.min.css">
  <link rel="stylesheet" href="assets/css/nouislider.min.css">
  <link rel="stylesheet" href="assets/css/nouislider.pips.css">
  <link rel="stylesheet" type="text/css" href="assets/css/flaticon.css">
  <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
  <link rel="stylesheet" href="assets/css/pylon-two-icons.css">
  <link rel="stylesheet" href="assets/css/jquery-ui.css">
  <link rel="stylesheet" href="assets/css/custom-animation.css">
  <link rel="stylesheet" href="assets/css/main.css">
  <link rel="stylesheet" href="assets/css/pbs-app.css">

  <style>
    /* ✅ dropdown wrapper + menu + logout (kept consistent with your sample) */
    .header-user-badge{
      display:inline-flex;align-items:center;gap:10px;padding:6px 12px;border-radius:999px;
      background:#e9f6da;color:#0F1F29;font-weight:600;text-decoration:none;
    }
    .header-user-badge .initials{
      width:28px;height:28px;border-radius:999px;background:#0F1F29;color:#B5E480;
      display:inline-flex;align-items:center;justify-content:center;font-weight:700;
    }
    .header-user-wrap{
      position:relative;display:inline-flex;align-items:center;gap:10px;white-space:nowrap;
    }
    .header-user-trigger{
      cursor:pointer;border:none;padding:0;background:transparent;display:inline-flex;align-items:center;
    }
    .header-user-badge .caret{ margin-left:8px; opacity:.9; font-size:12px; }
    .header-user-menu{
      position:absolute;right:0;top:calc(100% + 10px);min-width:220px;background:#ffffff;
      border:1px solid rgba(15,31,41,0.10);box-shadow:0 16px 40px rgba(15,31,41,0.10);
      border-radius:14px;padding:8px;z-index:999;display:none;
    }
    .header-user-menu.is-open{ display:block; }
    .header-user-menu a{
      display:flex;align-items:center;gap:10px;padding:10px 10px;border-radius:10px;
      text-decoration:none;color:#0F1F29;font-weight:700;
    }
    .header-user-menu a:hover{ background:#f3f7ef; }
    .header-user-menu .divider{
      height:1px;background:rgba(15,31,41,0.08);margin:6px 4px;
    }
    .header-logout-btn{
      display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;
      background:#0F1F29;color:#B5E480;font-weight:800;text-decoration:none;line-height:1;
    }
    .header-logout-btn:hover{ color:#B5E480; opacity:.92; }

    @media (max-width:575.98px){
      .header-user-wrap{ flex-wrap:wrap; justify-content:flex-end; }
      .header-logout-btn{ width:100%; justify-content:center; }
      .header-user-menu{ right:auto; left:0; width:100%; min-width:0; }
    }

    /* partner onboarding minor helpers (kept subtle so theme stays dominant) */
    .pr-pill{
      display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;
      background:#eef7df;color:#0F1F29;font-weight:800;font-size:13px;margin-bottom:14px;
    }
    .pr-sub{ color:#5b6b75; margin:6px 0 18px; }
    .loan-form-block{ /* same idea as your sample blocks */
      border:1px solid rgba(15,31,41,0.08);
      border-radius:16px;
      padding:18px 18px 6px;
      background:#fff;
      margin-top:12px;
    }
    .pr-note{
      font-size:0.9rem;color:#6b7781;margin-top:8px;
    }
  </style>
</head>

<body class="has-sticky-offset home-page-wrapper">
  <div class="preloader"><img class="preloader__image" src="assets/images/loader.png" alt=""></div>

  <div class="page-wrapper">
    <div class="main-header-two">
      <div class="topbar-two"></div>
      <div class="main-header-two__info">
        <div class="container">
          <div class="main-header-two__info__inner">

            <div class="logo-box">
              <a href="index.html" aria-label="logo image"><img src="assets/images/logo-dark.png" width="155" alt=""></a>
              <span class="fa fa-bars mobile-nav__toggler"></span>
            </div>

            <nav class="main-header-two__menu main-menu">
              <div class="container">
                <ul class="main-menu__list">
                  <li class="dropdown"><a href="apply_for_a_loan.html">Apply for a Loan</a></li>
                  <li><a href="#footer">Support</a></li>

                  <li class="main-menu__item main-menu__item--user" style="margin-left:18px;">
                    <div class="header-user-wrap">

                      <!-- ✅ Company badge (not a person) -->
                      <button
                        type="button"
                        class="header-user-trigger"
                        id="headerUserBtn"
                        aria-haspopup="true"
                        aria-expanded="false"
                        aria-controls="headerUserMenu"
                        title="Account menu"
                      >
                        <span class="header-user-badge">
                          <span class="initials">GC</span>
                          <span class="user-meta" style="text-align:left;">
                            Greenridge Capital (Pty) Ltd<br>
                            <small style="font-weight:600;color:#52606a">Partner onboarding</small>
                          </span>
                          <i class="fa fa-chevron-down caret" aria-hidden="true"></i>
                        </span>
                      </button>

                      <!-- flyout -->
                      <div class="header-user-menu" id="headerUserMenu" role="menu" aria-labelledby="headerUserBtn">
                        <a href="partner-portal.html" role="menuitem">
                          <i class="fa fa-th-large"></i>
                          <span>Partner Portal</span>
                        </a>

                        <div class="divider"></div>

                        <a href="partner-profile.html" role="menuitem">
                          <i class="fa fa-user-circle"></i>
                          <span>Company Profile</span>
                        </a>
                      </div>

                      <!-- logout -->
                      <a class="header-logout-btn" href="apply_for_a_loan_guest_out.html" title="Log out">
                        <i class="fa fa-sign-out-alt"></i>
                      </a>
                    </div>
                  </li>

                </ul>
              </div>
            </nav>

          </div>
        </div>
      </div>
    </div>

    <div class="stricky-header stricked-menu main-header-two__menu main-menu">
      <div class="sticky-header__content"></div>
    </div>

    <!-- ===============================
         Partner Onboarding – multi-step shell (in-page tabs + hidden blocks)
         =============================== -->
    <section class="loan-calculator-two loan-application-section" style="padding-top:34px;padding-bottom:52px;">
      <div class="container">

        <div class="loan-application-shell">

          <!-- Top bar: step tabs + summary -->
          <div class="loan-shell-top">
            <div class="loan-application-tabs">
              <button class="loan-application-tablink is-active" type="button" onclick="openPartnerStep(event, 'PartnerCompany', 1)">
                <i class="fas fa-building"></i><span>Company</span>
              </button>

              <button class="loan-application-tablink" type="button" onclick="openPartnerStep(event, 'PartnerNcr', 2)">
                <i class="fas fa-shield-alt"></i><span>NCR Verify</span>
              </button>

              <button class="loan-application-tablink" type="button" onclick="openPartnerStep(event, 'PartnerDocs', 3)">
                <i class="fas fa-file-upload"></i><span>Documents</span>
              </button>

              <button class="loan-application-tablink" type="button" onclick="openPartnerStep(event, 'PartnerStatus', 4)">
                <i class="fas fa-check-circle"></i><span>Status</span>
              </button>
            </div>

            <div class="loan-shell-summary">
              <span class="loan-shell-chip">Step <span id="loan-step-indicator">1</span> of 4</span>
              <p>Average completion time: 5–9 minutes.</p>
            </div>
          </div>

          <!-- Body: all tab contents -->
          <div class="loan-shell-body">

            <!-- STEP 1: Company -->
            <div id="PartnerCompany" class="loan-application-tabcontent">
              <div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">

                <span class="pr-pill"><i class="fas fa-lock"></i> Secure partner onboarding (NCR-verified)</span>

                <h3 class="loan-application-heading">
                  <i class="fas fa-building"></i> Partner Registration — Company & Authorized Representative
                </h3>
                <p class="pr-sub">When there are many fields, we show them in blocks. Click <strong>Continue</strong> to reveal the next block.</p>

                <form id="partnerForm" class="contact-one__form" action="#" method="post" novalidate>

                  <!-- BLOCK 1: Company Information -->
                  <div id="partner-company-block-1" class="loan-form-block">
                    <div class="row low-gutters">
                      <div class="col-md-12">
                        <p class="loan-extra-title"><i class="fas fa-balance-scale"></i> Company Information</p>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Company legal name</label>
                          <input class="form-control contact-one__form-input" type="text" placeholder="e.g., Greenridge Capital (Pty) Ltd" required>
                          <div class="pr-note">Must match NCR + CIPC records.</div>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Registration number (CIPC)</label>
                          <input class="form-control contact-one__form-input" type="text" placeholder="e.g., 2019/123456/07" required>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label>NCR registration number</label>
                          <input class="form-control contact-one__form-input" type="text" placeholder="e.g., NCRCP12345" required>
                          <div class="pr-note">We validate format + status in the next step.</div>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Official company email domain</label>
                          <input class="form-control contact-one__form-input" type="text" placeholder="e.g., greenridge.co.za" required>
                          <div class="pr-note">No public domains (e.g., gmail.com).</div>
                        </div>
                      </div>

                      <div class="col-md-12 mt-2">
                        <button type="button" class="thm-btn thm-btn--outline" onclick="showNextBlock('partner-company-block-2')">
                          Continue
                        </button>
                      </div>
                    </div>
                  </div>

                  <!-- BLOCK 2: Authorized Representative -->
                  <div id="partner-company-block-2" class="loan-form-block" style="display:none;">
                    <div class="row low-gutters">
                      <div class="col-md-12">
                        <p class="loan-extra-title"><i class="fas fa-user-shield"></i> Authorized Representative</p>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Full name</label>
                          <input class="form-control contact-one__form-input" type="text" placeholder="e.g., Lerato Maseko" required>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Role / capacity</label>
                          <select class="form-control" required>
                            <option value="" selected disabled>Select role</option>
                            <option>Director</option>
                            <option>Compliance Officer</option>
                            <option>Authorized Representative</option>
                            <option>Other (Specified in mandate)</option>
                          </select>
                          <div class="pr-note">Proof of authorization is uploaded under Documents.</div>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Official email address</label>
                          <input class="form-control contact-one__form-input" type="email" placeholder="e.g., compliance@greenridge.co.za" required>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Mobile number</label>
                          <input class="form-control contact-one__form-input" type="tel" placeholder="e.g., +27 63 000 0000" required>
                        </div>
                      </div>

                      <div class="col-md-12">
                        <label style="display:flex;align-items:flex-start;gap:10px;font-weight:700;margin-top:6px;">
                          <input type="checkbox" style="width:18px;height:18px;margin-top:2px;" required>
                          <span>
                            I confirm the information provided is accurate and I am authorized to register this company as a Partner.
                            <div class="pr-note">POPIA applies. All actions are audit logged.</div>
                          </span>
                        </label>
                      </div>

                      <div class="col-md-12 mt-3">
                        <div class="form-group text-md-end">
                          <button type="button" class="thm-btn" onclick="openPartnerStepFromButton('PartnerNcr', 2)">
                            Next, NCR Verification
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>

                </form>

              </div>
            </div>

            <!-- STEP 2: NCR Verify (static UI placeholder for now) -->
            <div id="PartnerNcr" class="loan-application-tabcontent" style="display:none;">
              <div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">
                <h3 class="loan-application-heading">
                  <i class="fas fa-shield-alt"></i> NCR Verification
                </h3>
                <p class="pr-sub">This is the UI for format/status/match checks (API/manual verification later).</p>

                <div class="loan-form-block">
                  <div class="row low-gutters">
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>NCR registration number</label>
                        <input class="form-control contact-one__form-input" type="text" value="NCRCP12345">
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Verification result</label>
                        <select class="form-control">
                          <option selected>Valid (Active)</option>
                          <option>Invalid format</option>
                          <option>Inactive / Suspended</option>
                          <option>Manual review required</option>
                        </select>
                      </div>
                    </div>

                    <div class="col-md-12">
                      <div class="form-group">
                        <label>Matched company name</label>
                        <input class="form-control contact-one__form-input" type="text" value="Greenridge Capital (Pty) Ltd">
                        <div class="pr-note">UI shows what the system matched against (or “Not matched”).</div>
                      </div>
                    </div>

                    <div class="col-md-12 mt-3">
                      <div class="form-group text-md-end">
                        <button type="button" class="thm-btn thm-btn--outline" onclick="openPartnerStepFromButton('PartnerCompany', 1)">Back</button>
                        <button type="button" class="thm-btn" onclick="openPartnerStepFromButton('PartnerDocs', 3)">Next, Documents</button>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>

            <!-- STEP 3: Documents (static UI placeholder for now) -->
            <div id="PartnerDocs" class="loan-application-tabcontent" style="display:none;">
              <div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">
                <h3 class="loan-application-heading">
                  <i class="fas fa-file-upload"></i> Required Document Uploads
                </h3>
                <p class="pr-sub">Static UI only: file validation/scanning/encryption are backend later. Here we show the intended inputs and states.</p>

                <form class="contact-one__form" action="#" method="post" enctype="multipart/form-data">
                  <div class="loan-form-block">
                    <div class="row low-gutters">

                      <div class="col-md-12">
                        <div class="form-group">
                          <label><i class="fas fa-certificate"></i> NCR Certificate (PDF)</label>
                          <input type="file" class="form-control" accept=".pdf">
                        </div>
                      </div>

                      <div class="col-md-12">
                        <div class="form-group">
                          <label><i class="fas fa-file-alt"></i> CIPC Registration Document (PDF)</label>
                          <input type="file" class="form-control" accept=".pdf">
                        </div>
                      </div>

                      <div class="col-md-12">
                        <div class="form-group">
                          <label><i class="fas fa-id-card"></i> Director ID Copy (PDF, JPG, PNG)</label>
                          <input type="file" class="form-control" accept=".pdf,.jpg,.jpeg,.png">
                        </div>
                      </div>

                      <div class="col-md-12">
                        <div class="form-group">
                          <label><i class="fas fa-file-signature"></i> Proof of Authorization (PDF)</label>
                          <input type="file" class="form-control" accept=".pdf">
                          <div class="pr-note">Director resolution or mandate letter.</div>
                        </div>
                      </div>

                      <div class="col-md-12">
                        <p style="font-size:0.85rem;color:#7d8491;margin:0;">
                          Max file size per document: 5MB. Allowed types: PDF, JPG, PNG. (Virus scan + encryption at rest: backend later.)
                        </p>
                      </div>

                      <div class="col-md-12 mt-3">
                        <div class="form-group text-md-end">
                          <button type="button" class="thm-btn thm-btn--outline" onclick="openPartnerStepFromButton('PartnerNcr', 2)">Back</button>
                          <button type="button" class="thm-btn" onclick="openPartnerStepFromButton('PartnerStatus', 4)">Submit & View Status</button>
                        </div>
                      </div>

                    </div>
                  </div>
                </form>
              </div>
            </div>

            <!-- STEP 4: Status (static UI placeholder for now) -->
            <div id="PartnerStatus" class="loan-application-tabcontent" style="display:none;">
              <div class="loan-calculator-two__inner wow fadeInUp" data-wow-duration="1500ms">
                <h3 class="loan-application-heading">
                  <i class="fas fa-check-circle"></i> Application Status
                </h3>

                <div class="loan-form-block">
                  <div class="row low-gutters">
                    <div class="col-md-12">
                      <p class="mb-2"><strong>Status:</strong> <span class="badge bg-warning text-dark" style="font-size:0.95rem;">Pending Approval</span></p>
                      <p class="pr-sub" style="margin-top:0;">
                        PBS System Admin has been notified. You’ll receive an email once approved or rejected.
                      </p>
                    </div>

                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Company</label>
                        <input class="form-control contact-one__form-input" type="text" value="Greenridge Capital (Pty) Ltd" readonly>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="form-group">
                        <label>NCR Number</label>
                        <input class="form-control contact-one__form-input" type="text" value="NCRCP12345" readonly>
                      </div>
                    </div>

                    <div class="col-md-12 mt-2">
                      <div class="form-group text-md-end">
                        <button type="button" class="thm-btn thm-btn--outline" onclick="openPartnerStepFromButton('PartnerDocs', 3)">Back</button>
                        <a class="thm-btn" href="partner-portal.html">Go to Partner Portal</a>
                      </div>
                    </div>

                  </div>
                </div>

              </div>
            </div>

          </div><!-- /.loan-shell-body -->
        </div><!-- /.loan-application-shell -->

      </div>
    </section>

    <footer id="footer" class="site-footer-two">
      <div class="site-footer-two__bottom">
        <div class="container"><p>© Copyright 2025 PBS Finance</p></div>
      </div>
    </footer>
  </div>

  <div class="mobile-nav__wrapper">
    <div class="mobile-nav__overlay mobile-nav__toggler"></div>
    <div class="mobile-nav__content">
      <span class="mobile-nav__close mobile-nav__toggler"></span>
      <div class="logo-box">
        <a href="index.html" aria-label="logo image"><img src="assets/images/logo-light.png" width="155" alt="" /></a>
      </div>
      <div class="mobile-nav__container"></div>
      <ul class="mobile-nav__contact list-unstyled">
        <li><i class="pylon-icon-email1"></i><a href="mailto:info@phekhubusiness.co.za">info@phekhubusiness.co.za</a></li>
        <li><i class="pylon-icon-telephone"></i><a href="tel:+27630683230">(+27) 63 068 3230</a></li>
      </ul>
    </div>
  </div>

  <a href="#" data-target="html" class="scroll-to-target scroll-to-top"><i class="fa fa-angle-up"></i></a>

  <script src="assets/js/jquery-3.5.1.min.js"></script>
  <script src="assets/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/swiper.min.js"></script>
  <script src="assets/js/jquery.ajaxchimp.min.js"></script>
  <script src="assets/js/jquery.magnific-popup.min.js"></script>
  <script src="assets/js/jquery.validate.min.js"></script>
  <script src="assets/js/bootstrap-select.min.js"></script>
  <script src="assets/js/wow.js"></script>
  <script src="assets/js/odometer.min.js"></script>
  <script src="assets/js/jquery.appear.min.js"></script>
  <script src="assets/js/wNumb.min.js"></script>
  <script src="assets/js/nouislider.min.js"></script>
  <script src="assets/js/owl.carousel.min.js"></script>
  <script src="assets/js/jquery.circleGraph.js"></script>
  <script src="assets/js/jquery-ui.js"></script>
  <script src="assets/js/theme.js"></script>

  <script>
    // ===== Multi-step helpers (same pattern as your apply_for_a_loan_logged.html) =====
    function setStepIndicator(step) {
      var indicator = document.getElementById("loan-step-indicator");
      if (indicator && step) indicator.textContent = step;
    }

    function openPartnerStep(evt, stepId, stepNumber) {
      var i, tabcontent, tablinks;

      tabcontent = document.getElementsByClassName("loan-application-tabcontent");
      for (i = 0; i < tabcontent.length; i++) tabcontent[i].style.display = "none";

      tablinks = document.getElementsByClassName("loan-application-tablink");
      for (i = 0; i < tablinks.length; i++) tablinks[i].classList.remove("is-active");

      var section = document.getElementById(stepId);
      if (section) section.style.display = "block";

      if (evt && evt.currentTarget) {
        evt.currentTarget.classList.add("is-active");
      } else {
        // when called from Next buttons (match by onclick)
        for (i = 0; i < tablinks.length; i++) {
          if ((tablinks[i].getAttribute("onclick") || "").indexOf("'" + stepId + "'") !== -1) {
            tablinks[i].classList.add("is-active");
            break;
          }
        }
      }

      if (stepNumber) setStepIndicator(stepNumber);
    }

    function openPartnerStepFromButton(stepId, stepNumber) {
      openPartnerStep(null, stepId, stepNumber);
      var shell = document.querySelector(".loan-application-shell");
      if (shell) shell.scrollIntoView({ behavior: "smooth" });
    }

    function showNextBlock(blockId) {
      var block = document.getElementById(blockId);
      if (block) block.style.display = "block";
    }

    // ===== Header dropdown (kept consistent) =====
    document.addEventListener("DOMContentLoaded", function () {
      // start on Company
      openPartnerStep(null, "PartnerCompany", 1);

      var btn = document.getElementById("headerUserBtn");
      var menu = document.getElementById("headerUserMenu");
      if (!btn || !menu) return;

      function closeMenu() {
        menu.classList.remove("is-open");
        btn.setAttribute("aria-expanded", "false");
      }

      function toggleMenu() {
        var isOpen = menu.classList.contains("is-open");
        if (isOpen) closeMenu();
        else {
          menu.classList.add("is-open");
          btn.setAttribute("aria-expanded", "true");
        }
      }

      btn.addEventListener("click", function (e) {
        e.preventDefault();
        e.stopPropagation();
        toggleMenu();
      });

      document.addEventListener("click", function () { closeMenu(); });
      document.addEventListener("keydown", function (e) { if (e.key === "Escape") closeMenu(); });
      menu.addEventListener("click", function (e) { e.stopPropagation(); });
    });
  </script>
</body>
</html>
